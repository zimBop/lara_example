<?php

use Illuminate\Database\Seeder;
use App\Models\City;

class CitySeeder extends Seeder
{
    /**
     * @see https://nominatim.openstreetmap.org/ - to find relation (e.g. Hartford, CT, US)
     * @see http://polygons.openstreetmap.fr/ - to create polygon by relation ID
     *
     * @return void
     */
    public function run()
    {
        City::firstOrCreate(
            [City::NAME => 'Hartford'],
            [
                City::POLYGON => DB::raw("ST_GeometryFromText('POLYGON((-72.722 41.806,-72.722 41.808,-72.719 41.811,-72.689 41.811,-72.687 41.807,-72.663 41.811,-72.643 41.809,-72.642 41.788,-72.644 41.782,-72.648 41.777,-72.661 41.77,-72.661 41.764,-72.653 41.756,-72.646 41.754,-72.641 41.749,-72.638 41.735,-72.643 41.726,-72.646 41.724,-72.656 41.726,-72.706 41.72,-72.718 41.721,-72.72 41.744,-72.72 41.773,-72.718 41.78,-72.722 41.806))', 4326)"),
                City::CENTER => DB::raw("ST_GeometryFromText('POINT(-72.6908547 41.764582)', 4326)"),
            ]
        );

        City::firstOrCreate(
            [City::NAME => 'New Haven'],
            [
                City::POLYGON => DB::raw("ST_GeometryFromText('POLYGON((-72.998 41.31,-73.002 41.312,-73 41.327,-72.995 41.329,-72.985 41.341,-72.976 41.345,-72.977 41.349,-72.972 41.352,-72.965 41.351,-72.96 41.354,-72.953 41.354,-72.949 41.351,-72.947 41.346,-72.948 41.341,-72.925 41.338,-72.913 41.338,-72.902 41.331,-72.896 41.332,-72.895 41.334,-72.889 41.337,-72.868 41.34,-72.859 41.34,-72.856 41.336,-72.868 41.308,-72.884 41.284,-72.883 41.252,-72.886 41.248,-72.897 41.245,-72.901 41.242,-72.908 41.246,-72.908 41.252,-72.905 41.257,-72.898 41.26,-72.91 41.269,-72.908 41.278,-72.912 41.282,-72.911 41.293,-72.913 41.293,-72.919 41.287,-72.924 41.279,-72.929 41.276,-72.934 41.276,-72.936 41.278,-72.941 41.278,-72.943 41.28,-72.944 41.286,-72.953 41.29,-72.956 41.293,-72.955 41.296,-72.96 41.3,-72.961 41.307,-72.998 41.31))', 4326)"),
                City::CENTER => DB::raw("ST_GeometryFromText('POINT(-72.9250518 41.3082138)', 4326)"),
            ]
        );

        if (config('app.env') !== 'production') {
            City::firstOrCreate(
                [City::NAME => 'Krivoy Rog'],
                [
                    City::POLYGON => DB::raw("ST_GeometryFromText('POLYGON((33.192 47.703,33.196 47.711,33.203 47.717,33.205 47.725,33.208 47.73,33.22 47.731,33.222 47.737,33.23 47.745,33.24 47.743,33.242 47.741,33.242 47.737,33.237 47.733,33.236 47.722,33.267 47.717,33.268 47.723,33.279 47.739,33.273 47.745,33.273 47.75,33.282 47.761,33.306 47.777,33.32 47.809,33.319 47.813,33.306 47.811,33.295 47.802,33.295 47.791,33.289 47.788,33.277 47.787,33.266 47.788,33.259 47.797,33.258 47.805,33.253 47.797,33.253 47.792,33.249 47.784,33.239 47.784,33.234 47.787,33.233 47.792,33.229 47.797,33.232 47.809,33.228 47.81,33.223 47.814,33.219 47.814,33.216 47.817,33.215 47.824,33.218 47.827,33.23 47.828,33.233 47.825,33.236 47.825,33.243 47.821,33.242 47.816,33.251 47.815,33.259 47.83,33.262 47.832,33.254 47.834,33.251 47.837,33.251 47.84,33.267 47.859,33.267 47.865,33.263 47.868,33.257 47.867,33.226 47.876,33.221 47.881,33.221 47.887,33.224 47.89,33.231 47.891,33.241 47.896,33.25 47.894,33.251 47.897,33.263 47.9,33.271 47.905,33.275 47.91,33.281 47.911,33.282 47.913,33.289 47.913,33.293 47.926,33.302 47.932,33.299 47.94,33.299 47.942,33.302 47.945,33.308 47.946,33.312 47.943,33.313 47.94,33.318 47.94,33.325 47.944,33.332 47.944,33.338 47.949,33.35 47.95,33.355 47.949,33.358 47.952,33.356 47.961,33.376 47.971,33.367 47.98,33.367 47.983,33.376 48.004,33.378 48.006,33.398 48.007,33.401 48.005,33.402 48.007,33.394 48.021,33.397 48.025,33.41 48.025,33.427 48.029,33.433 48.032,33.448 48.05,33.41 48.061,33.388 48.059,33.371 48.067,33.365 48.075,33.364 48.087,33.394 48.11,33.403 48.113,33.41 48.11,33.411 48.106,33.408 48.103,33.418 48.098,33.418 48.094,33.403 48.08,33.404 48.077,33.414 48.072,33.45 48.062,33.456 48.059,33.476 48.078,33.467 48.098,33.468 48.103,33.481 48.111,33.505 48.11,33.511 48.103,33.519 48.107,33.526 48.108,33.523 48.112,33.525 48.127,33.53 48.132,33.521 48.147,33.521 48.15,33.532 48.156,33.53 48.164,33.517 48.182,33.512 48.192,33.513 48.196,33.519 48.199,33.528 48.2,33.534 48.197,33.54 48.191,33.56 48.186,33.563 48.183,33.569 48.164,33.566 48.158,33.569 48.156,33.575 48.158,33.595 48.159,33.604 48.142,33.604 48.138,33.599 48.134,33.599 48.13,33.591 48.124,33.59 48.113,33.586 48.107,33.575 48.096,33.554 48.085,33.553 48.078,33.545 48.069,33.527 48.065,33.525 48.063,33.524 48.059,33.522 48.058,33.524 48.055,33.524 48.05,33.517 48.042,33.524 48.042,33.526 48.039,33.525 48.031,33.521 48.027,33.498 48.023,33.505 48.018,33.504 48.012,33.508 48.011,33.511 48.001,33.525 48,33.527 47.998,33.527 47.992,33.53 47.989,33.53 47.986,33.525 47.975,33.52 47.975,33.518 47.971,33.495 47.955,33.491 47.95,33.497 47.949,33.499 47.947,33.499 47.944,33.498 47.939,33.487 47.931,33.491 47.919,33.49 47.908,33.52 47.911,33.539 47.91,33.542 47.904,33.542 47.875,33.521 47.858,33.514 47.857,33.513 47.844,33.51 47.841,33.506 47.841,33.499 47.844,33.493 47.844,33.489 47.842,33.481 47.846,33.479 47.849,33.479 47.854,33.481 47.857,33.477 47.859,33.47 47.873,33.461 47.868,33.462 47.858,33.46 47.853,33.451 47.848,33.454 47.837,33.454 47.83,33.452 47.828,33.444 47.826,33.411 47.827,33.392 47.821,33.395 47.817,33.397 47.81,33.396 47.807,33.391 47.802,33.371 47.8,33.363 47.804,33.328 47.806,33.313 47.772,33.289 47.756,33.282 47.748,33.286 47.744,33.288 47.737,33.276 47.719,33.273 47.709,33.26 47.709,33.228 47.714,33.225 47.709,33.219 47.704,33.221 47.699,33.223 47.7,33.228 47.699,33.231 47.695,33.236 47.694,33.236 47.686,33.209 47.684,33.209 47.68,33.205 47.672,33.202 47.67,33.196 47.67,33.196 47.667,33.203 47.668,33.21 47.666,33.217 47.655,33.214 47.65,33.173 47.647,33.154 47.65,33.151 47.652,33.135 47.685,33.136 47.69,33.151 47.702,33.157 47.702,33.162 47.696,33.168 47.692,33.171 47.694,33.172 47.699,33.178 47.706,33.187 47.706,33.192 47.703))', 4326)"),
                    City::CENTER => DB::raw("ST_GeometryFromText('POINT(33.3917703  47.9102734)', 4326)"),
                ]
            );

            City::firstOrCreate(
                [City::NAME => 'New York'],
                [
                    City::POLYGON => DB::raw("ST_GeometryFromText('POLYGON((-74.263 40.494,-74.262 40.513,-74.251 40.524,-74.254 40.547,-74.235 40.563,-74.22 40.563,-74.205 40.599,-74.207 40.633,-74.191 40.649,-74.059 40.657,-74.042 40.684,-74.052 40.693,-74.043 40.705,-74.031 40.702,-74.019 40.758,-73.968 40.829,-73.922 40.921,-73.862 40.906,-73.849 40.915,-73.832 40.897,-73.743 40.874,-73.775 40.814,-73.699 40.757,-73.695 40.738,-73.704 40.724,-73.724 40.719,-73.721 40.649,-73.737 40.644,-73.738 40.63,-73.762 40.622,-73.742 40.616,-73.73 40.596,-73.752 40.583,-73.756 40.528,-73.802 40.528,-73.889 40.502,-73.903 40.488,-73.981 40.515,-74.227 40.472,-74.255 40.482,-74.263 40.494),(-74.035 40.695,-74.04 40.694,-74.038 40.69,-74.035 40.695))', 4326)"),
                    City::CENTER => DB::raw("ST_GeometryFromText('POINT(-74.0060152  40.7127281)', 4326)"),
                ]
            );
        }
    }
}
